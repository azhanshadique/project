<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile | CodeAcademy</title>
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/normalize.css">
  <link rel="stylesheet" href="./css/profile.css">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./assets/images/favicon.png">
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Header -->
  <header id="main-header">
    <div class="container">
      <div class="logo-container">
        <a href="index.html" class="logo">
          <span class="logo-icon"><i class="fas fa-code"></i></span>
          <span class="logo-text">CodeAcademy</span>
        </a>
      </div>
      
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="challenges.html">Challenges</a></li>
          <li><a href="editor.html">Code Editor</a></li>
          <li><a href="dashboard.html">Dashboard</a></li>
        </ul>
      </nav>
      
      <div class="user-nav">
        <button id="login-btn" class="btn btn-secondary">Log In</button>
        <button id="signup-btn" class="btn btn-primary">Sign Up</button>
        <!-- User menu (shown when logged in) -->
        <div id="user-menu" class="user-menu hidden">
          <div class="user-avatar">
            <img src="./assets/images/default-avatar.png" alt="User Avatar" id="user-avatar">
          </div>
          <span class="username" id="username">Username</span>
          <div class="dropdown-menu">
            <a href="profile.html" class="active">My Profile</a>
            <a href="dashboard.html">Dashboard</a>
            <a href="#" id="logout-btn">Logout</a>
          </div>
        </div>
      </div>
      
      <button class="mobile-menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Auth Check -->
  <div id="auth-check" class="container auth-required hidden">
    <div class="auth-required-message">
      <div class="auth-icon"><i class="fas fa-lock"></i></div>
      <h2>Authentication Required</h2>
      <p>You need to be logged in to view your profile.</p>
      <div class="auth-actions">
        <button id="auth-login-btn" class="btn btn-primary">Log In</button>
        <button id="auth-signup-btn" class="btn btn-secondary">Sign Up</button>
      </div>
    </div>
  </div>

  <!-- Profile Content -->
  <div id="profile-content">
    <!-- Profile Header -->
    <section class="profile-header">
      <div class="container">
        <div class="profile-card">
          <div class="profile-cover"></div>
          <div class="profile-info">
            <div class="profile-avatar">
              <img src="./assets/images/default-avatar.png" alt="User Avatar" id="profile-avatar">
              <button class="edit-avatar-btn" id="edit-avatar-btn"><i class="fas fa-camera"></i></button>
            </div>
            <div class="profile-details">
              <h1 id="profile-username">Username</h1>
              <p class="profile-tagline" id="profile-tagline">Coding enthusiast | Learning JavaScript</p>
              <div class="profile-stats">
                <div class="profile-stat">
                  <div class="stat-value" id="profile-challenges">0</div>
                  <div class="stat-label">Challenges</div>
                </div>
                <div class="profile-stat">
                  <div class="stat-value" id="profile-xp">0</div>
                  <div class="stat-label">XP</div>
                </div>
                <div class="profile-stat">
                  <div class="stat-value" id="profile-level">1</div>
                  <div class="stat-label">Level</div>
                </div>
                <div class="profile-stat">
                  <div class="stat-value" id="profile-badges">0</div>
                  <div class="stat-label">Badges</div>
                </div>
              </div>
            </div>
            <button class="edit-profile-btn" id="edit-profile-btn"><i class="fas fa-edit"></i> Edit Profile</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Profile Tabs -->
    <section class="profile-tabs">
      <div class="container">
        <div class="tabs">
          <button class="tab active" data-tab="overview">Overview</button>
          <button class="tab" data-tab="submissions">Submissions</button>
          <button class="tab" data-tab="badges">Badges & Achievements</button>
          <button class="tab" data-tab="settings">Account Settings</button>
        </div>
      </div>
    </section>

    <!-- Profile Content -->
    <section class="profile-content">
      <div class="container">
        <!-- Overview Tab -->
        <div class="tab-content active" id="overview-tab">
          <div class="profile-grid">
            <div class="profile-card about-me">
              <div class="card-header">
                <h2 class="card-title">About Me</h2>
              </div>
              <div class="card-content">
                <p id="about-me-content">No bio yet. Click 'Edit Profile' to add your bio.</p>
              </div>
            </div>
            
            <div class="profile-card skills">
              <div class="card-header">
                <h2 class="card-title">Skills</h2>
              </div>
              <div class="card-content">
                <div class="skills-list" id="skills-list">
                  <span class="skill-tag">JavaScript</span>
                  <span class="skill-tag">HTML</span>
                  <span class="skill-tag">CSS</span>
                </div>
              </div>
            </div>
            
            <div class="profile-card recent-achievements">
              <div class="card-header">
                <h2 class="card-title">Recent Achievements</h2>
              </div>
              <div class="card-content">
                <div class="achievements-list" id="recent-achievements-list">
                  <!-- Recent achievements will be loaded here by JavaScript -->
                  <div class="achievement-item">
                    <div class="achievement-icon"><i class="fas fa-award"></i></div>
                    <div class="achievement-info">
                      <div class="achievement-name">First Challenge</div>
                      <div class="achievement-date">Earned 3 days ago</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="profile-card latest-submissions">
              <div class="card-header">
                <h2 class="card-title">Latest Submissions</h2>
              </div>
              <div class="card-content">
                <div class="submissions-list" id="latest-submissions-list">
                  <!-- Latest submissions will be loaded here by JavaScript -->
                  <div class="submission-item">
                    <div class="submission-challenge">Two Sum</div>
                    <div class="submission-details">
                      <span class="submission-language">JavaScript</span>
                      <span class="submission-status success">Accepted</span>
                    </div>
                    <div class="submission-date">2 hours ago</div>
                  </div>
                  <div class="submission-item">
                    <div class="submission-challenge">Binary Search</div>
                    <div class="submission-details">
                      <span class="submission-language">JavaScript</span>
                      <span class="submission-status failed">Failed</span>
                    </div>
                    <div class="submission-date">Yesterday</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Submissions Tab -->
        <div class="tab-content" id="submissions-tab">
          <div class="submissions-header">
            <div class="submissions-filters">
              <div class="filter-group">
                <label for="status-filter">Status:</label>
                <select id="status-filter">
                  <option value="all">All</option>
                  <option value="accepted">Accepted</option>
                  <option value="failed">Failed</option>
                </select>
              </div>
              <div class="filter-group">
                <label for="language-filter">Language:</label>
                <select id="language-filter">
                  <option value="all">All</option>
                  <option value="javascript">JavaScript</option>
                  <option value="python">Python</option>
                  <option value="java">Java</option>
                  <option value="cpp">C++</option>
                </select>
              </div>
            </div>
            <div class="submissions-search">
              <input type="text" id="submission-search" placeholder="Search submissions...">
              <button id="submission-search-btn"><i class="fas fa-search"></i></button>
            </div>
          </div>
          
          <div class="submissions-table-container">
            <table class="submissions-table">
              <thead>
                <tr>
                  <th>Challenge</th>
                  <th>Status</th>
                  <th>Language</th>
                  <th>Runtime</th>
                  <th>Memory</th>
                  <th>Submitted</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="submissions-table-body">
                <!-- Submissions will be loaded here by JavaScript -->
                <tr>
                  <td>Two Sum</td>
                  <td><span class="status-badge success">Accepted</span></td>
                  <td>JavaScript</td>
                  <td>52ms</td>
                  <td>42.1MB</td>
                  <td>2 hours ago</td>
                  <td>
                    <button class="btn-icon"><i class="fas fa-eye"></i></button>
                    <button class="btn-icon"><i class="fas fa-code"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>Binary Search</td>
                  <td><span class="status-badge failed">Wrong Answer</span></td>
                  <td>JavaScript</td>
                  <td>35ms</td>
                  <td>38.2MB</td>
                  <td>Yesterday</td>
                  <td>
                    <button class="btn-icon"><i class="fas fa-eye"></i></button>
                    <button class="btn-icon"><i class="fas fa-code"></i></button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="pagination">
            <button id="prev-page" class="pagination-btn" disabled><i class="fas fa-chevron-left"></i> Previous</button>
            <div class="page-info">Page <span id="current-page">1</span> of <span id="total-pages">1</span></div>
            <button id="next-page" class="pagination-btn">Next <i class="fas fa-chevron-right"></i></button>
          </div>
        </div>
        
        <!-- Badges Tab -->
        <div class="tab-content" id="badges-tab">
          <div class="badges-grid" id="all-badges-container">
            <!-- Badges will be loaded here by JavaScript -->
            <div class="badge-card">
              <div class="badge-icon"><i class="fas fa-award"></i></div>
              <div class="badge-info">
                <div class="badge-name">First Challenge</div>
                <div class="badge-description">Completed your first coding challenge</div>
                <div class="badge-earned">Earned 3 days ago</div>
              </div>
            </div>
            <div class="badge-card locked">
              <div class="badge-icon"><i class="fas fa-fire"></i></div>
              <div class="badge-info">
                <div class="badge-name">3-Day Streak</div>
                <div class="badge-description">Practiced coding for 3 consecutive days</div>
                <div class="badge-earned">Not earned yet</div>
              </div>
            </div>
            <div class="badge-card locked">
              <div class="badge-icon"><i class="fas fa-graduation-cap"></i></div>
              <div class="badge-info">
                <div class="badge-name">Level 5 Achiever</div>
                <div class="badge-description">Reached level 5</div>
                <div class="badge-earned">Not earned yet</div>
              </div>
            </div>
            <div class="badge-card locked">
              <div class="badge-icon"><i class="fas fa-trophy"></i></div>
              <div class="badge-info">
                <div class="badge-name">Algorithm Master</div>
                <div class="badge-description">Completed 10 algorithm challenges</div>
                <div class="badge-earned">Not earned yet</div>
              </div>
            </div>
            <div class="badge-card locked">
              <div class="badge-icon"><i class="fas fa-database"></i></div>
              <div class="badge-info">
                <div class="badge-name">Data Structure Pro</div>
                <div class="badge-description">Completed 5 data structure challenges</div>
                <div class="badge-earned">Not earned yet</div>
              </div>
            </div>
            <div class="badge-card locked">
              <div class="badge-icon"><i class="fas fa-code"></i></div>
              <div class="badge-info">
                <div class="badge-name">Code Ninja</div>
                <div class="badge-description">Solved a hard challenge in under 10 minutes</div>
                <div class="badge-earned">Not earned yet</div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Settings Tab -->
        <div class="tab-content" id="settings-tab">
          <div class="settings-grid">
            <div class="settings-card account-settings">
              <div class="card-header">
                <h2 class="card-title">Account Settings</h2>
              </div>
              <div class="card-content">
                <form id="account-settings-form">
                  <div class="form-group">
                    <label for="settings-username">Username</label>
                    <input type="text" id="settings-username" value="Username">
                  </div>
                  <div class="form-group">
                    <label for="settings-email">Email</label>
                    <input type="email" id="settings-email" value="user@example.com">
                  </div>
                  <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
              </div>
            </div>
            
            <div class="settings-card change-password">
              <div class="card-header">
                <h2 class="card-title">Change Password</h2>
              </div>
              <div class="card-content">
                <form id="change-password-form">
                  <div class="form-group">
                    <label for="current-password">Current Password</label>
                    <input type="password" id="current-password">
                  </div>
                  <div class="form-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password">
                  </div>
                  <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <input type="password" id="confirm-new-password">
                  </div>
                  <button type="submit" class="btn btn-primary">Update Password</button>
                </form>
              </div>
            </div>
            
            <div class="settings-card notification-settings">
              <div class="card-header">
                <h2 class="card-title">Notification Settings</h2>
              </div>
              <div class="card-content">
                <form id="notification-settings-form">
                  <div class="form-group checkbox-group">
                    <input type="checkbox" id="email-notifications" checked>
                    <label for="email-notifications">Email Notifications</label>
                  </div>
                  <div class="form-group checkbox-group">
                    <input type="checkbox" id="achievement-notifications" checked>
                    <label for="achievement-notifications">Achievement Notifications</label>
                  </div>
                  <div class="form-group checkbox-group">
                    <input type="checkbox" id="challenge-notifications" checked>
                    <label for="challenge-notifications">New Challenge Notifications</label>
                  </div>
                  <div class="form-group checkbox-group">
                    <input type="checkbox" id="marketing-emails">
                    <label for="marketing-emails">Marketing Emails</label>
                  </div>
                  <button type="submit" class="btn btn-primary">Save Preferences</button>
                </form>
              </div>
            </div>
            
            <div class="settings-card danger-zone">
              <div class="card-header">
                <h2 class="card-title">Danger Zone</h2>
              </div>
              <div class="card-content">
                <div class="danger-action">
                  <div class="danger-info">
                    <h3>Delete Account</h3>
                    <p>Once you delete your account, there is no going back. Please be certain.</p>
                  </div>
                  <button id="delete-account-btn" class="btn btn-danger">Delete Account</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Edit Profile Modal -->
  <div id="edit-profile-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Edit Profile</h2>
      <form id="edit-profile-form">
        <div class="form-group">
          <label for="edit-name">Name</label>
          <input type="text" id="edit-name" placeholder="Your name">
        </div>
        <div class="form-group">
          <label for="edit-tagline">Tagline</label>
          <input type="text" id="edit-tagline" placeholder="A short description about yourself">
        </div>
        <div class="form-group">
          <label for="edit-bio">Bio</label>
          <textarea id="edit-bio" rows="4" placeholder="Tell us about yourself"></textarea>
        </div>
        <div class="form-group">
          <label for="edit-skills">Skills (comma separated)</label>
          <input type="text" id="edit-skills" placeholder="e.g. JavaScript, Python, React">
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary close-modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Delete Account Confirmation Modal -->
  <div id="delete-account-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h2>Delete Account</h2>
      <p>Are you sure you want to delete your account? This action cannot be undone.</p>
      <div class="form-group">
        <label for="delete-confirm">Type "DELETE" to confirm</label>
        <input type="text" id="delete-confirm" placeholder="DELETE">
      </div>
      <div class="form-actions">
        <button type="button" class="btn btn-secondary close-modal">Cancel</button>
        <button id="confirm-delete-btn" class="btn btn-danger" disabled>Delete Account</button>
      </div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div id="auth-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Log In</button>
        <button class="auth-tab" data-tab="signup">Sign Up</button>
      </div>
      
      <!-- Login Form -->
      <form id="login-form" class="auth-form">
        <div class="form-group">
          <label for="login-email">Email</label>
          <input type="email" id="login-email" required>
        </div>
        <div class="form-group">
          <label for="login-password">Password</label>
          <input type="password" id="login-password" required>
        </div>
        <div class="form-group form-actions">
          <a href="#" class="forgot-password">Forgot Password?</a>
          <button type="submit" class="btn btn-primary">Log In</button>
        </div>
      </form>
      
      <!-- Signup Form -->
      <form id="signup-form" class="auth-form hidden">
        <div class="form-group">
          <label for="signup-username">Username</label>
          <input type="text" id="signup-username" required>
        </div>
        <div class="form-group">
          <label for="signup-email">Email</label>
          <input type="email" id="signup-email" required>
        </div>
        <div class="form-group">
          <label for="signup-password">Password</label>
          <input type="password" id="signup-password" required>
        </div>
        <div class="form-group">
          <label for="signup-confirm-password">Confirm Password</label>
          <input type="password" id="signup-confirm-password" required>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Create Account</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script src="./js/auth.js"></script>
  <script src="./js/main.js"></script>
  <script src="./js/profile.js"></script>
</body>
</html>